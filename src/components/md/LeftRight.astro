---
import {
  horizontalAlignmentCss,
  textAlignmentCss,
  type HorizontalAlignment,
  type VerticalAlignment,
  type Width,
} from './util';

type Props = {
  first?: 'left' | 'right';
  align?: VerticalAlignment;
  leftText?: HorizontalAlignment;
  rightText?: HorizontalAlignment;
  leftWidth?: Width;
  rightWidth?: Width;
  noSpacing?: true;
};

const {
  first = 'left',
  align = 'top',
  leftText = 'left',
  rightText = 'right',
  rightWidth = '1/2',
  leftWidth = '1/2',
  noSpacing = false,
} = Astro.props;

let alignCss = 'items-start';
if (align === 'middle') {
  alignCss = 'items-center';
}
if (align === 'bottom') {
  alignCss = 'items-end';
}

const leftTextCss = textAlignmentCss(leftText);
const rightTextCss = textAlignmentCss(rightText);
const leftAlignmentCss = horizontalAlignmentCss(leftText);
const rightAlignmentCss = horizontalAlignmentCss(rightText);
const leftWidthCss = `md:w-${leftWidth}`;
const rightWidthCss = `md:w-${rightWidth}`;
---

<div
  class:list={[
    'flex w-full gap-4 md:flex-row md:justify-between',
    first === 'left' ? 'flex-col' : 'flex-col-reverse',
    alignCss,
    noSpacing ? '' : 'my-16',
  ]}>
  <div class:list={['w-full md:w-1/2', leftTextCss, leftWidthCss]}>
    <div class:list={[leftAlignmentCss]}>
      <slot />
    </div>
  </div>
  <div class:list={['w-full md:w-1/2', rightTextCss, rightWidthCss]}>
    <div class:list={[rightAlignmentCss]}>
      <slot name="right" />
    </div>
  </div>
</div>
